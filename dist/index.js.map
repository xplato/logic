{"version":3,"file":"index.js","sources":["../packages/core/string.ts","../packages/core/dom.ts","../packages/core/object.ts","../packages/react/hooks/useDynamicPanel.ts","../packages/react/hooks/usePrevious.ts"],"sourcesContent":["export const removeWhitespaceAndMakeLowerCase = (str: string) => {\n\treturn str.toLowerCase().replace(/\\s/g, \"\")\n}\n\nexport const kebabize = (str: string) => {\n\treturn str\n\t\t.replaceAll(\" \", \"-\")\n\t\t.split(\"\")\n\t\t.map((letter, index) => {\n\t\t\tif (letter === \"-\") {\n\t\t\t\treturn \"-\"\n\t\t\t}\n\n\t\t\treturn letter.toUpperCase() === letter\n\t\t\t\t? `${index !== 0 ? \"-\" : \"\"}${letter.toLowerCase()}`\n\t\t\t\t: letter\n\t\t})\n\t\t.join(\"\")\n}\n\nexport const toSlug = (str: string) => {\n\treturn str.replaceAll(\" \", \"-\").toLowerCase()\n}\n\nexport const capitalize = (word: string) => {\n\treturn word.charAt(0).toUpperCase() + word.slice(1)\n}\n","import { kebabize } from \"./string\"\n\ninterface Mods {\n\t[key: string]: any\n}\n\nexport const generateMods = (mods: Mods): string | string[] => {\n\tconst keys = Object.keys(mods)\n\n\tif (keys.length === 0) {\n\t\treturn \"\"\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = mods[key]\n\n\t\tif (value === true) {\n\t\t\treturn kebabize(key)\n\t\t}\n\n\t\tif (!value) {\n\t\t\treturn \"\"\n\t\t}\n\n\t\treturn `${kebabize(key)}-${\n\t\t\ttypeof value === \"number\" ? value : kebabize(value)\n\t\t}`\n\t})\n}\n\nexport const smoothScrollTo = (elementID: string) => {\n\tconst element = document.getElementById(elementID)\n\tif (element) {\n\t\telement.scrollIntoView({ behavior: \"smooth\" })\n\t}\n}\n","export const omitFields = <T, Fields extends keyof T>(\n\tobject: T,\n\tfields: Fields[]\n): Omit<T, Fields> => {\n\treturn Object.assign(\n\t\t{},\n\t\tobject,\n\t\tObject.assign({}, ...fields.map(key => ({ [key]: undefined })))\n\t)\n}\n","import { useRef, useState, useEffect, RefObject, MouseEvent } from \"react\"\n\nexport interface DynamicPanel<ElementType> {\n\tref: RefObject<ElementType>\n\tisOpen: boolean\n\ttoggle: (ev?: MouseEvent) => void\n\topen: (ev?: MouseEvent) => void\n\tclose: (ev?: MouseEvent) => void\n}\n\nexport const useDynamicPanel = <\n\tElementType extends Element\n>(): DynamicPanel<ElementType> => {\n\tconst ref = useRef<ElementType>(null)\n\tconst [isOpen, setIsOpen] = useState(false)\n\n\tconst handleWindowClick = (ev: MouseEvent) => {\n\t\tif (\n\t\t\tref.current &&\n\t\t\ttypeof ref.current?.contains === \"function\" &&\n\t\t\t!ref.current.contains(ev.target as Node)\n\t\t) {\n\t\t\tclose(ev)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (typeof window !== \"undefined\" && ref.current && isOpen) {\n\t\t\t// I'm not really sure why TS is complaining here. It says that the\n\t\t\t// handleWindowClick function is invalid because it doesn't match the\n\t\t\t// signature of the event listener, which it supposes to be\n\t\t\t// (Window, MouseEvent), but if you log the arguments, you see\n\t\t\t// that only one is passed: MouseEvent (technically an instance\n\t\t\t// of PointerEvent, actually).\n\t\t\t//\n\t\t\t// @ts-ignore\n\t\t\twindow.addEventListener(\"click\", handleWindowClick)\n\t\t}\n\n\t\treturn () => {\n\t\t\t// @ts-ignore\n\t\t\twindow.removeEventListener(\"click\", handleWindowClick)\n\t\t}\n\t}, [ref.current, isOpen])\n\n\tconst open = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(true)\n\t}\n\n\tconst close = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(false)\n\t}\n\n\tconst toggle = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(isOpen => !isOpen)\n\t}\n\n\treturn {\n\t\tref,\n\t\tisOpen,\n\t\topen,\n\t\tclose,\n\t\ttoggle,\n\t}\n}\n","// This hook tracks the state changes of `value`\n// and returns the previously saved value.\n\nimport { useRef, useEffect } from \"react\"\n\nexport const usePrevious = (value: any): any => {\n\tconst ref = useRef()\n\n\tuseEffect(() => {\n\t\tref.current = value\n\t}, [])\n\n\treturn ref.current\n}"],"names":["removeWhitespaceAndMakeLowerCase","str","toLowerCase","replace","kebabize","replaceAll","split","map","letter","index","toUpperCase","join","toSlug","capitalize","word","charAt","slice","generateMods","mods","keys","Object","length","key","value","smoothScrollTo","elementID","element","document","getElementById","scrollIntoView","behavior","omitFields","object","fields","assign","undefined","useDynamicPanel","ref","useRef","useState","isOpen","setIsOpen","handleWindowClick","ev","current","contains","target","close","useEffect","window","addEventListener","removeEventListener","open","stopPropagation","toggle","usePrevious"],"mappings":"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"}