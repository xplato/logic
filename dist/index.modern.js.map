{"version":3,"file":"index.modern.js","sources":["../packages/core/string.ts","../packages/core/dom.ts","../packages/core/object.ts","../packages/react/hooks/useDynamicPanel.ts","../packages/react/hooks/usePrevious.ts"],"sourcesContent":["export const removeWhitespaceAndMakeLowerCase = (str: string) => {\n\treturn str.toLowerCase().replace(/\\s/g, \"\")\n}\n\nexport const kebabize = (str: string) => {\n\treturn str\n\t\t.replaceAll(\" \", \"-\")\n\t\t.split(\"\")\n\t\t.map((letter, index) => {\n\t\t\tif (letter === \"-\") {\n\t\t\t\treturn \"-\"\n\t\t\t}\n\n\t\t\treturn letter.toUpperCase() === letter\n\t\t\t\t? `${index !== 0 ? \"-\" : \"\"}${letter.toLowerCase()}`\n\t\t\t\t: letter\n\t\t})\n\t\t.join(\"\")\n}\n\nexport const toSlug = (str: string) => {\n\treturn str.replaceAll(\" \", \"-\").toLowerCase()\n}\n\nexport const capitalize = (word: string) => {\n\treturn word.charAt(0).toUpperCase() + word.slice(1)\n}\n","import { kebabize } from \"./string\"\n\ninterface Mods {\n\t[key: string]: any\n}\n\nexport const generateMods = (mods: Mods): string | string[] => {\n\tconst keys = Object.keys(mods)\n\n\tif (keys.length === 0) {\n\t\treturn \"\"\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = mods[key]\n\n\t\tif (value === true) {\n\t\t\treturn kebabize(key)\n\t\t}\n\n\t\tif (!value) {\n\t\t\treturn \"\"\n\t\t}\n\n\t\treturn `${kebabize(key)}-${\n\t\t\ttypeof value === \"number\" ? value : kebabize(value)\n\t\t}`\n\t})\n}\n\nexport const smoothScrollTo = (elementID: string) => {\n\tconst element = document.getElementById(elementID)\n\tif (element) {\n\t\telement.scrollIntoView({ behavior: \"smooth\" })\n\t}\n}\n","export const omitFields = <T, Fields extends keyof T>(\n\tobject: T,\n\tfields: Fields[]\n): Omit<T, Fields> => {\n\treturn Object.assign(\n\t\t{},\n\t\tobject,\n\t\tObject.assign({}, ...fields.map(key => ({ [key]: undefined })))\n\t)\n}\n","import { useRef, useState, useEffect, RefObject, MouseEvent } from \"react\"\n\nexport interface DynamicPanel<ElementType> {\n\tref: RefObject<ElementType>\n\tisOpen: boolean\n\ttoggle: (ev?: MouseEvent) => void\n\topen: (ev?: MouseEvent) => void\n\tclose: (ev?: MouseEvent) => void\n}\n\nexport const useDynamicPanel = <\n\tElementType extends Element\n>(): DynamicPanel<ElementType> => {\n\tconst ref = useRef<ElementType>(null)\n\tconst [isOpen, setIsOpen] = useState(false)\n\n\tconst handleWindowClick = (ev: MouseEvent) => {\n\t\tif (\n\t\t\tref.current &&\n\t\t\ttypeof ref.current?.contains === \"function\" &&\n\t\t\t!ref.current.contains(ev.target as Node)\n\t\t) {\n\t\t\tclose(ev)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (typeof window !== \"undefined\" && ref.current && isOpen) {\n\t\t\t// I'm not really sure why TS is complaining here. It says that the\n\t\t\t// handleWindowClick function is invalid because it doesn't match the\n\t\t\t// signature of the event listener, which it supposes to be\n\t\t\t// (Window, MouseEvent), but if you log the arguments, you see\n\t\t\t// that only one is passed: MouseEvent (technically an instance\n\t\t\t// of PointerEvent, actually).\n\t\t\t//\n\t\t\t// @ts-ignore\n\t\t\twindow.addEventListener(\"click\", handleWindowClick)\n\t\t}\n\n\t\treturn () => {\n\t\t\t// @ts-ignore\n\t\t\twindow.removeEventListener(\"click\", handleWindowClick)\n\t\t}\n\t}, [ref.current, isOpen])\n\n\tconst open = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(true)\n\t}\n\n\tconst close = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(false)\n\t}\n\n\tconst toggle = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(isOpen => !isOpen)\n\t}\n\n\treturn {\n\t\tref,\n\t\tisOpen,\n\t\topen,\n\t\tclose,\n\t\ttoggle,\n\t}\n}\n","// This hook tracks the state changes of `value`\n// and returns the previously saved value.\n\nimport { useRef, useEffect } from \"react\"\n\nexport const usePrevious = (value: any): any => {\n\tconst ref = useRef()\n\n\tuseEffect(() => {\n\t\tref.current = value\n\t}, [])\n\n\treturn ref.current\n}"],"names":["removeWhitespaceAndMakeLowerCase","str","toLowerCase","replace","kebabize","replaceAll","split","map","letter","index","toUpperCase","join","toSlug","capitalize","word","charAt","slice","generateMods","mods","keys","Object","length","key","value","smoothScrollTo","elementID","element","document","getElementById","scrollIntoView","behavior","omitFields","object","fields","assign","undefined","useDynamicPanel","ref","useRef","isOpen","setIsOpen","useState","handleWindowClick","ev","current","contains","target","close","useEffect","window","addEventListener","removeEventListener","open","stopPropagation","toggle","usePrevious"],"mappings":"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"}